<!DOCTYPE HTML>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Herramientas IA - UNINET</title>
    <link rel="icon" th:href="@{/imagenes/isologo.png}" type="image/x-icon">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

    <link rel="stylesheet" th:href="@{/css/variables.css}"/>
    <link rel="stylesheet" th:href="@{/css/base.css}"/>
    <link rel="stylesheet" th:href="@{/css/home.css}"/>
    <link rel="stylesheet" th:href="@{/css/archivos-subidos.css}"/>

</head>
<body>
<header>
    <nav th:replace="templates/nav :: nav"></nav>
</header>
<main class="contenedor_general">
    <aside class="columnaUno">
        <div class="estructura">
            <img class="user"
                 th:src="@{/imagenes/{img}(img=${usuario.fotoPerfil != null ? usuario.fotoPerfil : 'user.png'})}"
                 alt="Foto de perfil">
            <h2 class="palabra" th:text= "${usuario.nombre}"></h2>
            <h2 class="palabra" th:text= "${usuario.apellido}"></h2>
            <ul>
                <li class="titulo" th:text="${usuario.carrera != null ? usuario.carrera.nombre : 'Sin carrera'}">Carrera</li>
            </ul>
        </div>
        <div class="estructura box_columnaUno">
            <a href=""><img th:src="@{/imagenes/grupos.png}"> Grupos</a>
            <a href=""><img th:src="@{/imagenes/guardados.png}"> Elementos guardados</a>
            <!--se lo agrego aca... despues vemos bien donde lo ubicamos-->
            <a th:href="@{/herramientas-IA.html}" class="btn_subir_archivos"><img th:src="@{/imagenes/pdf-icon.png}">Herramientas IA</a>
            <!--<a href=""><img src="../../../resources/core/imagenes/grupos.png"> Grupos</a>
            <a href=""><img src="../../../resources/core/imagenes/guardados.png"> Elementos guardados</a>-->
        </div>
    </aside>
    <section class="columnaDos">

        <article class="estructura">
            <h3>Subir archivos pdf</h3>
            <form th:action="@{/herramientas-IA.html}" method="POST" enctype="multipart/form-data">
                <input type="file" name="archivo" accept="application/pdf" required />
                <button type="submit">Subir PDF</button>
            </form>
            <p th:if="${mensaje}" th:text="${mensaje}" style="color: green;"></p>
        </article>
        <article class="estructura">
            <h3>Mis archivos subidos</h3>
            <p>Selecciona el archivo con el que deseas generar el resumen</p>
            <div class="archivos-subidos">
                <form th:action="@{/herramientas-IA/resumen.html}" method="POST">
                    <ul>
                        <li class="lista-archivos" th:each="archivo,iterStat : ${archivos}">
                                <input type="radio" name="archivoSeleccionado" th:id="'archivo__' + ${iterStat.index}" th:value="${archivo}" th:checked="${iterStat.index == 0}" />
                            <img th:src="@{/imagenes/pdf-icon.png}" alt="PDF" class="icono-pdf">
                            <label th:for="'archivo__' + ${iterStat.index}" >
                                <a th:href="@{'/archivos_pdf/' + ${archivo}}" target="_blank" th:text="${archivo}"></a>
                            </label>
                        </li>
                    </ul>
                    <button type="submit">Generar resumen con IA</button>
                </form>
            </div>
        </article>

        <article class="estructura">
            <h3>Resumen generado a partir del pdf subido</h3>
            <div class="resumen-ia-display" th:if="${resumen}" th:utext="${resumen}">

            </div>
            <button>guardar como pdf</button>
        </article>
    </section>

    <aside class="columnaTres">
        <div class="estructura">
            <h2>Alumnos cursando...</h2>
            <p>Ingenier√≠a en Sistemas</p>
            <div class="recomendaciones_users" >
                <img class="user2" th:src="@{/imagenes/user2.png}">
                <img class="user2" th:src="@{/imagenes/user2.png}">
                <img class="user2" th:src="@{/imagenes/user2.png}">
                <img class="user2" th:src="@{/imagenes/user2.png}">
                <img class="user2" th:src="@{/imagenes/user2.png}">
            </div>
        </div>
    </aside>

</main>

<script type="module" th:src="@{js/tema.js}"></script>

</body>
</html>